{
  "optimal": {
    "model": 0,
    "prompt": 0
  },
  "models": [
    "llama3.1:8b-instruct-q8_0",
    "llama3.2:3b-instruct-q8_0",
    "llama3.3:70b-instruct-q4_K_M",
    "gemma3:4b-it-q8_0",
    "gemma3:12b-it-q8_0",
    "gemma3:27b-it-q4_K_M",
    "phi4:14b-q8_0",
    "mixtral:8x7b-instruct-v0.1-q4_0",
    "mistral:7b-instruct-v0.3-q8_0"
  ],
  "prompts": [
    {
      "expand_diagnostic_prompt": "Eres un experto médico con amplia experiencia redactando y corrigiendo historiales clínicos en lenguaje técnico claro y preciso.\n Tu objetivo es tomar un texto clínico abreviado realizar las siguientes acciones:\n- Expandir abreviaciones médicas y tecnicismos.\n- Corregir errores ortográficos y gramaticales.\n- Mantener la **estructura y formato original** del texto.\n- No eliminar ni añadir información nueva.\nEl texto original es:\n\"\"\"\n{evolution_text}\n\"\"\"\n\nDevuelve únicamente el texto corregido y expandido, sin explicaciones.",
      "diagnostic_prompt": "Eres un sistema médico especializado en el análisis de historiales médicos.\nTu tarea es identificar y extraer solamente el nombre de la enfermedad principal mencionada en el historial médico proporcionado. Utiliza exclusivamente la terminología oficial médica.\n\nLa respuesta debe estar formateada como una instancia JSON que cumpla con el esquema JSON especificado a continuación.\nPor ejemplo, para el esquema {{\"properties\": {{\"foo\": {{\"title\": \"Foo\", \"description\": \"una lista de cadenas\", \"type\": \"array\", \"items\": {{\"type\": \"string\"}}}}}}, \"required\": [\"foo\"]}}, el objeto {{\"foo\": [\"bar\", \"baz\"]}} es una instancia bien formateada del esquema. El objeto {{\"properties\": {{\"foo\": [\"bar\", \"baz\"]}}}} no está correctamente formateado.\n\nA continuación, se proporciona el esquema de la respuesta:\n```{{\"properties\": {{\"principal_diagnostic\": {{\"description\": \"Nombre de la enfermedad principal, basado en el historial del paciente\", \"maxLength\": 100, \"title\": \"Nombre enfermedad pricipal\", \"type\": \"string\"}}}}, \"required\": [\"principal_diagnostic\"]}}```\n\nEl historial del paciente:\n\n\"\"\"\n{evolution_text}\n\"\"\"",
      "rag_prompt": "Eres un experto médico con amplia experiencia en la clasificación y normalización de diagnósticos.\nTu tarea es analizar un diagnóstico médico original y seleccionar **solo uno** de los diagnósticos proporcionados en la lista. Tu objetivo es elegir el diagnóstico más apropiado que mejor represente el diagnóstico original y devolver su descripción exacta en el mismo formato que aparece en la lista.\n Sigue las siguientes instrucciones:\n1. Lee el diagnóstico médico original.\n2. Examina la lista de diagnósticos similares proporcionada (exactamente cuatro).\n3. Selecciona **solo uno** de ellos.\n4. Devuelve el resultado **exactamente** en el siguiente formato:\n\"\"\"\nDiagnóstico exacto\n\"\"\"\n\n### Diagnóstico original:\n{principal_diagnostic}\n\n### Lista de diagnósticos similares:\n{similar_diagnostics}\n\nNo expliques tu razonamiento ni añadas ningún texto adicional. Devuelve solo el dignóstico seleccionado."
    }
  ]
}
